<ng-template #template let-modal>
  <div class="modal-container">
    <img src="/assets/img/Shape.png" (click)="closeModal()" class="modal-close">
    <app-posts-add (onClose)="closeModal()"></app-posts-add>
  </div>
</ng-template>

<div class="header-wrapper">
  <div class="header-wrapper__container">
    <div class="header_logo"><app-logo class="logo"></app-logo></div>
    <div class="empty-header">&nbsp;</div>
    <div *appShowAuthed="false" class="block_auth">
      <span id="link-register" routerLink="/registration">Регистрация</span>
      <span id="link-sign" routerLink="/signin">Войти</span>
    </div>

    <div class="header_user" *appShowAuthed="true">
      <button class="btn-add-post" (click)="openModal(template)">
        <img src="/assets/img/add_post.svg">
        Добавить обьявление
      </button>
      <img src="https://vpotoke.com/assets/img/astronaut.svg" class="avatar">
      <div class="user-menu" (appClickOutside)="showSettings = false">
        <span class="user-settings" (click)="showSettings = !showSettings"></span>
        <app-dropdown *ngIf="showSettings">
          <a [routerLink] = "'/profile'">Мой профиль</a>
          <a>Настройки профиля</a>
          <a [routerLink] = "'/vp-admin'">Администрирование</a>
          <a (click)="currentUserService.logout()">Выйти</a>
          <a>О нас</a>
        </app-dropdown>
      </div>
    </div>
  </div>
</div>

